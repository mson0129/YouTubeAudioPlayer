<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <script type='text/javascript'>
            const {ipcRenderer} = require('electron');
            const ytdl = require('ytdl-core');
            const fs = require('fs')

            function get_audio(url) {
                var info = ytdl.getInfo(url)
                const tracker = {
                    start: Date.now(),
                    audio: { downloaded: 0, total: Infinity },
                    merged: { frame: 0, speed: '0x', fps: 0 }
                };
                var writeStream = fs.createWriteStream('./output.mp4');
                const audio = ytdl(
                    url,
                    {
                        filter: 'audioonly'
                    }
                )
                .on('progress', (_, downloaded, total) => {
                    tracker.audio = { downloaded, total };
                    console.log(downloaded/total, downloaded, total);
                })
                .pipe(writeStream)
            }
        </script>
    </head>
    <body>
        helloworld
    </body>
</html>